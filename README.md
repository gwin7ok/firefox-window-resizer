# Firefox Window Resizer

## 概要

Firefox Window Resizerは、ブラウザウィンドウのサイズと位置をプリセットに基づいて変更できるFirefox拡張機能です。Web開発者やデザイナーが様々な画面サイズでウェブサイトをテストするのに役立ちます。

## 主な機能

### 基本機能

- 事前設定したサイズと位置にブラウザウィンドウを簡単に調整
- カスタムプリセットの作成と管理
- 現在のタブを別ウィンドウに分離して表示するオプション
- 画面の拡大率（DPR）に対応した正確なサイズ設定
- ブラウザ起動時に特定のプリセットを自動適用

### 拡張機能

- **右クリックコンテキストメニュー**: URLリンク、Webページ背景、タブで右クリックしてプリセットを直接適用
- **プリセット名マルチライン対応**: プリセット名に改行を含めることが可能
- **ドラッグ&ドロップ並び替え**: 設定画面でプリセットの順序をドラッグで変更
- **テーブル表示最適化**: 複数行プリセット名にも対応した美しいテーブル表示
- **インテリジェントなタブ処理**: 空ウィンドウ作成+タブ移動による状態保持機能

## インストール

1. リポジトリから["firefox-window-resizer@gwin7ok.com.xpi"](https://github.com/gwin7ok/firefox-window-resizer/raw/refs/heads/main/firefox-window-resizer@gwin7ok.com.xpi)をダウンロード
2. Firefoxで `about:addons` を開く
3. 「拡張機能」ページの歯車アイコンをクリックし、「XPIからアドオンをインストール」を選択
4. ダウンロードしたXPIファイルを選択してインストール

## 使い方

### ポップアップからの使用
- ツールバーの拡張機能アイコンをクリックしてポップアップを開く
- プリセットをクリックすると現在のウィンドウにサイズ設定が適用される
- 「現在のタブを別ウィンドウに独立させる」チェックボックスを使うと、新しいウィンドウにタブが移動する

### コンテキストメニューからの使用
- **URLリンクを右クリック** → そのリンクを新しいウィンドウで開いてプリセット適用
- **Webページ背景を右クリック** → 現在のタブを別ウィンドウに移動してプリセット適用
- **タブを右クリック** → そのタブを別ウィンドウに移動してプリセット適用

### 設定
- 設定画面からDPR値（画面の拡大率）やブラウザ起動時の自動適用設定を変更できる

## 詳細設定

### DPR設定
- 画面の拡大率に合わせて論理/物理ピクセル変換を行います（100%〜300%）
- 4Kディスプレイなどの高解像度モニターで正確なサイズ表示を実現

### 起動時設定
- ブラウザ起動時に特定のプリセットを自動適用するかどうかを設定可能
- プリセット一覧から起動時に適用するプリセットを選択

## プリセット管理

### 基本操作
- 設定画面から新規プリセット作成、編集、削除が可能
- プリセットには名前、幅、高さ、左位置、上位置を設定
- 「現在のウィンドウサイズを使用」ボタンで現在のウィンドウの値を取得可能

### 新機能
- **マルチラインプリセット名**: プリセット名に改行を含めることができます
- **ドラッグ&ドロップ並び替え**: プリセット一覧で順序を自由に変更
- **テーブル表示**: 見やすく整理されたプリセット一覧表示
- **リアルタイム更新**: 設定変更が即座にコンテキストメニューにも反映

## 技術仕様

### 対応環境
- Firefox 57.0 以降
- Manifest V2 WebExtensions API
- マルチモニター環境対応

### パフォーマンス
- 軽量設計（拡張機能サイズ約100KB以下）
- 高速なプリセット適用
- メモリ効率的な実装

## 開発・ビルド

### ファイル構成
```
firefox-window-resizer/
├── manifest.json          # 拡張機能マニフェスト
├── scripts/
│   ├── background.js      # バックグラウンド処理
│   ├── logger.js          # ログ機能
│   └── browser-polyfill.min.js  # ブラウザAPI互換
├── views/
│   ├── popup.html/js      # ポップアップUI
│   ├── settings.html/js   # 設定画面
│   └── preset-editor.html/js  # プリセット編集
├── styles/               # CSS スタイルシート
└── assets/               # アイコン等のリソース
```

### ビルド方法

1. PowerShellでビルドスクリプトを実行

```powershell
.\makeXPI.ps1
```

2. 生成されたXPIファイルをFirefoxでインストール

## ライセンス・著作権

Firefox Window Resizer © 2023-2025 gwin7ok

## 更新履歴

### v1.0.0 (2025年10月)
- コンテキストメニュー機能追加
- プリセット名マルチライン対応
- ドラッグ&ドロップによる順序変更
- テーブル表示の最適化
- タブ処理の改善
- DPR対応の強化
